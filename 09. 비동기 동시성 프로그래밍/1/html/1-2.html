<script src="../lib/fx.js"></script>

## go, pipe, reduce에서 비동기 제어

<script>
  go(Promise.resolve(1),
    a => a + 10,
    a => Promise.reject('error~~'),
    a => console.log('----'),
    a => a + 1000,
    a => a + 10000,
    log).catch(a => console.log(a));

  /*
  go(1,
    a => a + 10,
    a => Promise.resolve(a + 100),
    // 중간에 프로미스를 한 번 만나게 되면 계속해서 프로미스 체인을 합성하게 됨
    // 연속적으로 비동기가 일어나게 됨
    a => a + 1000,
    a => a + 10000,
    그러나 개발자가 위 두 코드에 대해 동기적으로 하나의 콜스택에서 실행하길 바랬다면, 밑에 코드는 그런 일을 처리해주지 못함
    acc = acc instanceof Promise ? acc.then(acc => f(acc, a)) : f(acc, a);
    이러한 함수 합성은 불필요한 노드가 생기기 때문에 성능저하가 있게 됨
    log)
  */
  
</script>